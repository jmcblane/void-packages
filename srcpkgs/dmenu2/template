# Template file for 'dmenu2'
pkgname=dmenu2
version=0.2
revision=1
conflicts="dmenu"
makedepends="libXinerama-devel libXft-devel freetype-devel"
# depends="libXinerama libXft"
short_desc="Fork of dmenu with many useful patches applied"
maintainer="Jacob McBlane <jacobmcblane@gmail.com>"
license="MIT, GPL-3.0-or-later"
homepage="https://bitbucket.org/melek/dmenu2"
distfiles="https://bitbucket.org/melek/dmenu2/downloads/${pkgname}-${version}.tar.gz"
checksum="b2d7ff5eccd0676942caa2f82cb9c6c6bbea8e5812e19fba9de97140ebc78597"

do_build() {
	sed -i -e "s|^X11INC|#X11INC|g" -e "s|^X11LIB|#X11LIB|g" config.mk
  x11inc=$XBPS_CROSS_BASE/usr/include/X11
  x11lib=$XBPS_CROSS_BASE/usr/lib
  freetypeinc=$XBPS_CROSS_BASE/usr/include/freetype2
  make CC="$CC" ${makejobs} X11INC=$x11inc X11LIB=$x11lib FREETYPEINC=$freetypeinc
}

do_install() {
  make PREFIX=/usr DESTDIR=${DESTDIR} install
  vlicense LICENSE
}
